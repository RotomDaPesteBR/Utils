# Utils.AspNet.OpenAPI Usage Guide

The **Utils.AspNet.OpenAPI** library provides extensions to ensure that LightningArc types are correctly documented in OpenAPI/Swagger generated by ASP.NET Core (specifically the new `Microsoft.AspNetCore.OpenApi` in .NET 9+).

## Setup

In your `Program.cs`, when configuring OpenAPI:

```csharp
using LightningArc.Utils.OpenAPI;

var builder = WebApplication.CreateBuilder(args);

builder.Services.AddOpenApi(options =>
{
    // Register custom transformers for Value Objects like Email
    options.AddSchemaTransformers();
});

var app = builder.Build();

if (app.Environment.IsDevelopment())
{
    app.MapOpenApi();
}

app.Run();
```

## Features

| Type | Default Schema | Transformed Schema |
| :--- | :--- | :--- |
| `Email` | Object (`{ value: string }`) | String (`format: email`) |

This ensures that the generated API documentation matches the behavior of the JSON serializers configured in `Utils.Json`.

---

## Implementation Details

For deep dives into the source code, see:
*   [Utils.AspNet.OpenAPI Implementation](../Implementation/Web/Utils.AspNet.OpenAPI/README.md)
*   [EmailSchemaTransformer](../Implementation/Web/Utils.AspNet.OpenAPI/Filters/EmailSchemaTransformer.md)